name: 'Dead Code Hunter'
description: 'Find unused code in your codebase using Supermodel static analysis'
author: 'Supermodel Tools'

branding:
  icon: 'search'
  color: 'red'

inputs:
  supermodel-api-key:
    description: 'Supermodel API key from https://supermodeltools.com'
    required: true
  github-token:
    description: 'GitHub token for posting PR comments (defaults to github.token)'
    required: false
    default: ${{ github.token }}
  comment-on-pr:
    description: 'Post findings as PR comment'
    required: false
    default: 'true'
  fail-on-dead-code:
    description: 'Fail the action if dead code is found'
    required: false
    default: 'false'
  ignore-patterns:
    description: 'JSON array of glob patterns to ignore'
    required: false
    default: '[]'

outputs:
  dead-code-count:
    description: 'Number of unused code elements found'
  dead-code-json:
    description: 'JSON array of dead code findings with type, confidence, and reason'

runs:
  using: 'node20'
  main: 'dist/index.js'
